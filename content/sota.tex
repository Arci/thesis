\section{Introduction}
In this chapter NoSQL databases are firstly introduced and compared with SQL solutions. In section \ref{sec:common-language} are listed some of the solution that has been developed in defining a common language or interface to interact with different NoSQL databases.
\noindent Finally the CPIM library is introduced as a tentative in defining a common interface to interacts with different vendor in a PaaS environment which include accessing the different NoSQL solution of the PaaS provider.

\section{NoSQL databases}
\subsection{NoSQL motivations}
\subsection{NoSQL characteristics}
\subsection{Standard language}
ORM (Object Relational Mapping) solutions came into existence to solve OO-impedance mismatching problem. Most popular among them are Hibernate, Toplink, EclipseLink etc. They worked beautifully with relational databases like Oracle and MySQL, among others.

Each ORM solution had its own API and object query language (like HQL for hibernate) which made it difficult for programmers to switch from one framework to another. As a result, efforts were made to make standards and specifications. 

Problem with NoSQL databases is that there is NOT EVEN ONE existing industry standard (like SQL) for them. The very basic idea of “something opposed to SQL”…and as a result – deviation from standards and rules, is going to be suicidal, if not corrected at right time. Learning to work with a new NoSQL database is always cumbersome as a result.

Apart from that, people lack in-depth knowledge of NoSQL. Even if they do, they are confined to one or two. In relational world, people depend upon their knowledge of SQL and JDBC to work on basic and intermediate database things. Switching to another database requires little or almost no effort, which otherwise is painful in NoSQL  world.

ORM for NoSQL is a bit mis-leading term. People prefer to call it “OM tool for NoSQL” or maybe “ODM – Object data-store Mapping tool”. ORM frameworks have already been there for 30+ years and it’s a de-facto industry standard. People are very clear about what ORM tools are supposed to do. There are no surprises.

Key here is to let people forget worrying about complexities inherent in NoSQLs. Let them do things in a way they already know and are comfortable with. Why not use an approach that is there for this problem domain for decades and has proven its usefulness.

A good use case advocating use of ORM tools is migration of applications (built using ORM tool) from RDBMS to NoSQL database. (or even from one NoSQL database to another). This requires (at least in theory) little or no programming effort in business domain.



\section{Approaches for a common language}
\label{sec:common-language}
The lack of a common language and of a standardization as SQL-99 is for SQL has bring developers to build many different solutions with slightly different approaches.
Many of the solutions that will be discussed are open source projects developed and maintained by a community, some others are approaches that came from academic researches and some other are commercial solution.

Apache Phoenix is a SQL query engine for accessing NoSQL datastores such as Apache HBase. It is accessed as a JDBC driver and enables querying, updating, and managing NoSQL tables through standard SQL. Instead of using map-reduce, Apache Phoenix compiles your SQL query into a series of HBase scans and orchestrates the running of those scans to produce regular JDBC result sets. Direct use of the HBase API, along with coprocessors and custom filters, results in performance on the order of milliseconds for small queries, or seconds for tens of millions of rows.

Apache Phoenix is a relational database layer over HBase delivered as a client-embedded JDBC driver targeting low latency queries over HBase data. Apache Phoenix takes your SQL query, compiles it into a series of HBase scans, and orchestrates the running of those scans to produce regular JDBC result sets. The table metadata is stored in an HBase table and versioned, such that snapshot queries over prior versions will automatically use the correct schema. Direct use of the HBase API, along with coprocessors and custom filters, results in performance on the order of milliseconds for small queries, or seconds for tens of millions of rows.

CQL: Cassandra Query Language (CQL) is a query language for the Cassandra database.

GQL: GQL is a SQL-like language for retrieving entities or keys from Datastore. While GQL's features are different from those of a query language for a traditional relational database, the GQL grammar is similar to that of SQL.

---> tendenza ad usare SQL come linguaggio comune

\subsection{Kundera}
Kundera is a JPA 2.1 compliant object-datastore mapping library for NoSQL datastores. Kundera makes working with NoSQL databases simple and fun. Kundera does not reinvent the wheel by making another client library; rather it leverages the existing libraries, and builds – on top of them – a wrap-around API to developers do away with the unnecessary boiler plate codes, and program a neater, cleaner code that reduces code-complexity and improves quality. And above all, improves productivity.

Kundera supports cross-datastore persistence. This means you can store and fetch related entities in different datastores using a single method call.

Kundera is JPA 2.1 compatible. It strictly uses JPA annotations to map your objects into your datastore tables(Did I say table? Huh! looks like a relational database term. well, we prefer this as a general name since different NoSQL datastores use different naming - Column family for Cassandra, Table for HBase and collections for MongoDB)

\subsection{Spring-data}
Makes it easy to use new data access technologies, such as non-relational databases, map-reduce frameworks, and cloud based data services. Spring Data also provides improved support for relational database technologies. This is an umbrella project which contains many subprojects that are specific to a given database. The projects are developed by working together with many of the companies and developers that are behind these exciting technologies.

\begin{itemize}
\item JPA
\item MongoDB
\item redis
\item neo4j
\item jdbc
\item couchbase (community)
\item elasticsearch (community)
\item cassandra (community)
\item dynamodb (community)
\end{itemize}

\subsection{PlayORM}
Playorm  CITE is an open-source library developed by buffalo software built to speed up developer productivity of developing a NoSQL scalable solution. 

supports Cassandra, MongoDB and HBase.
similar concepts as for JPA but custom implementation -> custom annotations

\subsection{Couchbase UnQL}
UNQL started with quite some hype last year. However, after some burst of activity the project came to a hold. So it seems, that – at least as a project – UNQL has been a failure. IMHO one of the major issues with the current UNQL is, that it tries to cover everything in NoSQL, from key-value stores to document-stores to graph-database.

And here I think is where UNQL is totally right. We need something similar for the NoSQL world. But it should not try to be a “fits all situation”. 

July 29, 2011 –Couchbase, the leading NoSQL database company, and SQLite, maker of the world’s most widely deployed SQL database engine, today announced the release into the public domain of a jointly developed NoSQL query language. Unstructured Data Query Language, or UnQL (pronounced “Uncle”), is a collaborative effort to bring a familiar and standardized data definition and manipulation language to the NoSQL domain. Both Couchbase and SQLite have committed to delivering products that embody the language.

Created by CouchDB creator Damien Katz and SQLite creator Richard Hipp, UnQL extends aspects of SQL to NoSQL databases. According to Phillips, it’s an expressive language that, like SQL, lets the database do “heavy lifting” instead of putting the burden on application developers to write certain functionalities into the application.


\subsection{SOS Platform}

\section{Cloud Platform Independent Model}

\section{Summary}
In this chapter has been introduced some of the main reasons that leads to the NoSQL database definition and why industry is so interested in those kind of technology. 
\noindent NoSQL technology has been compared with SQL systems to highlight the deep differences but especially the lack of a common language definition. Have been discussed some of the major project that try to define a common language among different NoSQL solution.
\noindent Finally has been presented the CPIM library, a more general approach in a common language definition in PaaS environment.